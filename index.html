<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Automation Practice App</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&display=swap');

  body {
    font-family: 'Nunito', sans-serif;
    margin: 0; background: #faf9f7; color: #333;
  }

  header {
    background: #4a90e2;
    color: white;
    padding: 15px 30px;
    font-size: 1.5rem;
    font-weight: 700;
    text-align: center;
    user-select: none;
  }

  nav {
    display: flex;
    background: #2a5db0;
  }
  nav button {
    flex: 1;
    padding: 14px 0;
    background: #2a5db0;
    border: none;
    color: #e0e6f1;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.3s;
    font-size: 1rem;
  }
  nav button:hover,
  nav button.active {
    background: #1f447f;
    color: white;
  }

  main {
    padding: 25px 30px;
    max-width: 900px;
    margin: 0 auto;
  }

  section {
    display: none;
    animation: fadeIn 0.3s ease forwards;
  }
  section.active {
    display: block;
  }

  h2 {
    margin-bottom: 15px;
    color: #2a5db0;
    font-weight: 700;
  }

  /* Form styles */
  label {
    display: block;
    margin-top: 15px;
    font-weight: 600;
  }
  input[type=text],
  input[type=email],
  input[type=date],
  select {
    width: 100%;
    padding: 10px;
    border: 1.8px solid #ccc;
    border-radius: 6px;
    font-size: 1rem;
    transition: border-color 0.3s;
  }
  input[type=text]:focus,
  input[type=email]:focus,
  input[type=date]:focus,
  select:focus {
    border-color: #4a90e2;
    outline: none;
  }

  /* Radio and Checkbox groups */
  .input-group {
    margin-top: 12px;
  }
  .input-group label {
    font-weight: normal;
    display: inline-flex;
    align-items: center;
    margin-right: 20px;
    cursor: pointer;
  }
  .input-group input[type="radio"],
  .input-group input[type="checkbox"] {
    margin-right: 6px;
    cursor: pointer;
  }

  /* Dynamic Dropdown */
  #dropdown-search {
    width: 100%;
    padding: 10px;
    font-size: 1rem;
    border: 1.8px solid #ccc;
    border-radius: 6px;
  }
  #dropdown-list {
    margin-top: 5px;
    border: 1.8px solid #ccc;
    border-radius: 6px;
    max-height: 150px;
    overflow-y: auto;
    background: white;
    box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    display: none;
  }
  #dropdown-list div {
    padding: 10px;
    cursor: pointer;
  }
  #dropdown-list div:hover {
    background: #4a90e2;
    color: white;
  }

  /* Modal */
  .modal-overlay {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0,0,0,0.4);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 999;
  }
  .modal-overlay.active {
    display: flex;
  }
  .modal {
    background: white;
    padding: 25px 30px;
    border-radius: 12px;
    max-width: 400px;
    width: 90%;
    box-shadow: 0 8px 20px rgba(0,0,0,0.15);
    transform: translateY(-20px);
    opacity: 0;
    transition: transform 0.3s ease, opacity 0.3s ease;
  }
  .modal-overlay.active .modal {
    transform: translateY(0);
    opacity: 1;
  }
  .modal h3 {
    margin-top: 0;
    color: #4a90e2;
  }
  .modal button.close-btn {
    margin-top: 20px;
    padding: 10px 18px;
    background: #4a90e2;
    border: none;
    border-radius: 6px;
    color: white;
    font-weight: 700;
    cursor: pointer;
    transition: background 0.25s ease;
  }
  .modal button.close-btn:hover {
    background: #3a78ca;
  }

  /* Table */
  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 15px;
  }
  th, td {
    border: 1.8px solid #ccc;
    padding: 12px 15px;
    text-align: left;
  }
  th {
    background: #4a90e2;
    color: white;
    user-select: none;
    cursor: pointer;
  }
  tr:hover {
    background: #f0f7ff;
  }

  /* Toast Notification */
  #toast {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: #4a90e2;
    color: white;
    padding: 12px 22px;
    border-radius: 8px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
    font-weight: 600;
    z-index: 1000;
  }
  #toast.show {
    opacity: 1;
    pointer-events: auto;
  }

  @keyframes fadeIn {
    from {opacity: 0;}
    to {opacity: 1;}
  }
</style>
</head>
<body>

<header>Automation Practice App</header>

<nav aria-label="Primary">
  <button class="active" data-tab="form" role="tab" aria-selected="true" aria-controls="form-section" id="tab-form">Form</button>
  <button data-tab="inputs" role="tab" aria-selected="false" aria-controls="inputs-section" id="tab-inputs">Inputs</button>
  <button data-tab="dropdown" role="tab" aria-selected="false" aria-controls="dropdown-section" id="tab-dropdown">Dropdown</button>
  <button data-tab="modal" role="tab" aria-selected="false" aria-controls="modal-section" id="tab-modal">Modal</button>
  <button data-tab="table" role="tab" aria-selected="false" aria-controls="table-section" id="tab-table">Table</button>
  <button data-tab="date" role="tab" aria-selected="false" aria-controls="date-section" id="tab-date">Date Picker</button>
  <button data-tab="toast" role="tab" aria-selected="false" aria-controls="toast-section" id="tab-toast">Toast Notification</button>
</nav>

<main>
  <section id="form-section" role="tabpanel" aria-labelledby="tab-form" class="active">
    <h2>Form Section</h2>
    <form id="practice-form" data-test-id="form-practice">
      <label for="name">Name</label>
      <input type="text" id="name" data-test-id="input-name" placeholder="Your full name" required />

      <label for="email">Email</label>
      <input type="email" id="email" data-test-id="input-email" placeholder="your.email@example.com" required />

      <fieldset class="input-group" style="margin-top:20px;">
        <legend>Gender</legend>
        <label><input type="radio" name="gender" value="male" data-test-id="radio-male" required /> Male</label>
        <label><input type="radio" name="gender" value="female" data-test-id="radio-female" /> Female</label>
        <label><input type="radio" name="gender" value="other" data-test-id="radio-other" /> Other</label>
      </fieldset>

      <fieldset class="input-group" style="margin-top:20px;">
        <legend>Subscribe to newsletter</legend>
        <label><input type="checkbox" id="subscribe" data-test-id="checkbox-subscribe" /> Yes, sign me up</label>
      </fieldset>

      <label for="country">Country</label>
      <select id="country" data-test-id="select-country" required>
        <option value="">Select your country</option>
        <option value="india">India</option>
        <option value="usa">USA</option>
        <option value="canada">Canada</option>
        <option value="australia">Australia</option>
        <option value="finland">Finland</option>
      </select>

      <button type="submit" data-test-id="btn-submit" style="margin-top: 25px; background:#4a90e2; color:white; border:none; padding: 12px 20px; border-radius: 6px; cursor: pointer; font-weight: 700;">Submit</button>
    </form>
  </section>

  <section id="inputs-section" role="tabpanel" aria-labelledby="tab-inputs">
    <h2>Inputs Section</h2>
    <label>Text Input</label>
    <input type="text" data-test-id="input-text" placeholder="Type something..." />

    <label>Email Input</label>
    <input type="email" data-test-id="input-email-alt" placeholder="Email here" />

    <label>Date Picker</label>
    <input type="date" data-test-id="input-date" />

    <fieldset class="input-group">
      <legend>Radio Buttons</legend>
      <label><input type="radio" name="plan" value="basic" data-test-id="radio-basic" /> Basic Plan</label>
      <label><input type="radio" name="plan" value="premium" data-test-id="radio-premium" /> Premium Plan</label>
    </fieldset>

    <fieldset class="input-group">
      <legend>Checkboxes</legend>
      <label><input type="checkbox" data-test-id="checkbox-newsletter" /> Newsletter</label>
      <label><input type="checkbox" data-test-id="checkbox-terms" /> Accept Terms</label>
    </fieldset>
  </section>

  <section id="dropdown-section" role="tabpanel" aria-labelledby="tab-dropdown">
    <h2>Dynamic Dropdown</h2>
    <input type="text" id="dropdown-search" placeholder="Type to search countries..." aria-label="Search countries" data-test-id="input-dropdown-search" autocomplete="off" />
    <div id="dropdown-list" data-test-id="dropdown-options">
      <!-- Options dynamically inserted here -->
    </div>
  </section>

  <section id="modal-section" role="tabpanel" aria-labelledby="tab-modal">
    <h2>Modal Dialog</h2>
    <button id="open-modal" data-test-id="btn-open-modal" style="background:#4a90e2; color:white; border:none; padding: 12px 20px; border-radius: 6px; cursor: pointer; font-weight: 700;">Open Modal</button>

    <div class="modal-overlay" id="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="modal-title" aria-describedby="modal-desc">
      <div class="modal">
        <h3 id="modal-title">Modal Title</h3>
        <p id="modal-desc">This is a sample modal dialog for practice.</p>
        <button id="close-modal" class="close-btn" data-test-id="btn-close-modal">Close</button>
      </div>
    </div>
  </section>

  <section id="table-section" role="tabpanel" aria-labelledby="tab-table">
    <h2>Sortable Table</h2>
    <table data-test-id="table-sample">
      <thead>
        <tr>
          <th data-test-id="th-name" data-sort-key="name" tabindex="0" role="button" aria-label="Sort by Name">Name ▲▼</th>
          <th data-test-id="th-age" data-sort-key="age" tabindex="0" role="button" aria-label="Sort by Age">Age ▲▼</th>
        </tr>
      </thead>
      <tbody id="table-body">
        <tr data-test-id="row-1"><td data-test-id="cell-name-1">Alice</td><td data-test-id="cell-age-1">30</td></tr>
        <tr data-test-id="row-2"><td data-test-id="cell-name-2">Bob</td><td data-test-id="cell-age-2">25</td></tr>
        <tr data-test-id="row-3"><td data-test-id="cell-name-3">Charlie</td><td data-test-id="cell-age-3">35</td></tr>
        <tr data-test-id="row-4"><td data-test-id="cell-name-4">Diana</td><td data-test-id="cell-age-4">28</td></tr>
      </tbody>
    </table>
  </section>

  <section id="date-section" role="tabpanel" aria-labelledby="tab-date">
    <h2>Date Picker Section</h2>
    <label for="date-picker">Select a date:</label>
    <input type="date" id="date-picker" data-test-id="input-date-picker" />
  </section>

  <section id="toast-section" role="tabpanel" aria-labelledby="tab-toast">
    <h2>Toast Notification</h2>
    <button id="show-toast" data-test-id="btn-show-toast" style="background:#4a90e2; color:white; border:none; padding: 12px 20px; border-radius: 6px; cursor: pointer; font-weight: 700;">Show Toast</button>
  </section>
</main>

<div id="toast" role="alert" aria-live="assertive"></div>

<script>
  // Tab navigation logic
  const tabs = document.querySelectorAll('nav button');
  const sections = document.querySelectorAll('main section');

  tabs.forEach(tab => {
    tab.addEventListener('click', () => {
      // Remove active from all tabs and sections
      tabs.forEach(t => {
        t.classList.remove('active');
        t.setAttribute('aria-selected', 'false');
      });
      sections.forEach(sec => sec.classList.remove('active'));

      // Activate clicked tab & related section
      tab.classList.add('active');
      tab.setAttribute('aria-selected', 'true');
      const id = tab.getAttribute('data-tab') + '-section';
      document.getElementById(id).classList.add('active');
    });
  });

  // Dynamic Dropdown Data
  const countries = [
    "India",
    "United States",
    "Canada",
    "Australia",
    "Finland",
    "Indonesia",
    "England",
    "Ireland",
    "Iceland",
    "New Zealand",
    "South Africa",
    "Argentina"
  ];

  const dropdownSearch = document.getElementById('dropdown-search');
  const dropdownList = document.getElementById('dropdown-list');

  dropdownSearch.addEventListener('input', () => {
    const input = dropdownSearch.value.trim().toLowerCase();
    dropdownList.innerHTML = '';

    if(input === '') {
      dropdownList.style.display = 'none';
      return;
    }

    const filtered = countries.filter(c =>
      c.toLowerCase().includes(input)
    );

    if(filtered.length === 0) {
      dropdownList.innerHTML = '<div>No matches found</div>';
    } else {
      filtered.forEach(country => {
        const div = document.createElement('div');
        div.textContent = country;
        div.setAttribute('data-test-id', 'option-' + country.toLowerCase().replace(/\s+/g, '-'));
        div.tabIndex = 0;
        div.addEventListener('click', () => {
          dropdownSearch.value = country;
          dropdownList.style.display = 'none';
        });
        dropdownList.appendChild(div);
      });
    }
    dropdownList.style.display = 'block';
  });

  // Modal logic
  const modalOverlay = document.getElementById('modal-overlay');
  const openModalBtn = document.getElementById('open-modal');
  const closeModalBtn = document.getElementById('close-modal');

  openModalBtn.addEventListener('click', () => {
    modalOverlay.classList.add('active');
  });
  closeModalBtn.addEventListener('click', () => {
    modalOverlay.classList.remove('active');
  });
  modalOverlay.addEventListener('click', (e) => {
    if(e.target === modalOverlay) {
      modalOverlay.classList.remove('active');
    }
  });

  // Table sorting logic
  const tableBody = document.getElementById('table-body');
  const headers = document.querySelectorAll('th[data-sort-key]');
  let sortDirection = {};

  headers.forEach(header => {
    sortDirection[header.dataset.sortKey] = 'asc';

    header.addEventListener('click', () => {
      const key = header.dataset.sortKey;
      const rows = Array.from(tableBody.rows);

      rows.sort((a, b) => {
        let aText = a.querySelector(`[data-test-id^="cell-${key}"]`).textContent.trim();
        let bText = b.querySelector(`[data-test-id^="cell-${key}"]`).textContent.trim();

        if(key === 'age') {
          return sortDirection[key] === 'asc' ? aText - bText : bText - aText;
        } else {
          if(aText < bText) return sortDirection[key] === 'asc' ? -1 : 1;
          if(aText > bText) return sortDirection[key] === 'asc' ? 1 : -1;
          return 0;
        }
      });

      // Toggle direction
      sortDirection[key] = sortDirection[key] === 'asc' ? 'desc' : 'asc';

      // Append sorted rows
      rows.forEach(row => tableBody.appendChild(row));
    });

    // Enable keyboard sorting on Enter or Space key
    header.addEventListener('keydown', (e) => {
      if(e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        header.click();
      }
    });
  });

  // Toast notification logic
  const toast = document.getElementById('toast');
  const showToastBtn = document.getElementById('show-toast');

  showToastBtn.addEventListener('click', () => {
    toast.textContent = 'This is a toast notification!';
    toast.classList.add('show');
    setTimeout(() => {
      toast.classList.remove('show');
    }, 3000);
  });

  // Form submission
  const practiceForm = document.getElementById('practice-form');
  practiceForm.addEventListener('submit', (e) => {
    e.preventDefault();
    alert('Form submitted successfully!');
    practiceForm.reset();
  });
</script>

</body>
</html>
